{{ ansible_managed | comment }}

export EDITOR="{{ env_editor }}"
export IGNOREEOF={{ env_ignore_eof }}
export TERM="{{ env_term }}"
export VISUAL="{{ env_visual }}"
export LC_ALL="{{ env_lc_all }}"
export ARCHFLAGS="{{ env_arch_flags }}"

# Ansible
export ANSIBLE_DISPLAY_SKIPPED_HOSTS={{ env_ansible_display_skipped_hosts }}
export ANSIBLE_RETRY_FILES_ENABLED={{ env_ansible_rety_files_enabled }}
export ANSIBLE_SSH_PIPELINING={{ env_ansible_ssh_pipelining }}

{% if (env_accounts.aws | default) != "" %}
# AWS
export AWS_ACCESS_KEY_ID="{{ env_aws[env_accounts.aws].id | default }}"
export AWS_SECRET_ACCESS_KEY="{{ env_aws[env_accounts.aws].key | default }}"
{% endif %}

{% if (env_accounts.bitbucket | default) != "" %}
# Bitbucket
export BITBUCKET_USERNAME="{{ env_bitbucket[env_accounts.bitbucket].user | default }}"
export BITBUCKET_APP_TOKEN="{{ env_bitbucket[env_accounts.bitbucket].token | default }}"
{% endif %}

{% if (env_accounts.clientfile | default) != "" %}
# Clientfile
export CLIENTFILE_MAILBOX="{{ env_clientfile[env_accounts.clientfile].mailbox | default }}"
export CLIENTFILE_STORAGE="{{ env_clientfile[env_accounts.clientfile].storage | default }}"
export CLIENTFILE_TRANSPORT="{{ env_clientfile[env_accounts.clientfile].transport | default }}"
{% endif %}

{% if (env_accounts.cloudflare | default) != "" %}
# Cloudflare
export CF_API_EMAIL="{{ env_cloudflare[env_accounts.cloudflare].email | default }}"
export CF_API_KEY="{{ env_cloudflare[env_accounts.cloudflare].token | default }}"
{% endif %}

{% if (env_accounts.digital_ocean | default) != "" %}
# Digital Ocean
export DO_API_TOKEN="{{ env_digital_ocean[env_accounts.digital_ocean].token | default }}"
{% endif %}

{% if (env_accounts.docker | default) != "" %}
# Docker
export DOCKER_USERNAME="{{ env_docker[env_accounts.docker].user | default }}"
export DOCKER_API_TOKEN="{{ env_docker[env_accounts.docker].token | default }}"
{% endif %}

# Exiftool
export EXIFTOOL_HOME="{{ env_exiftool_home }}"

# Git
export GIT_EDITOR="{{ env_git_editor }}"

{% if (env_accounts.gitea | default) != "" %}
# Gitea
export GITEA_USERNAME="{{ env_gitea[env_accounts.gitea].user | default }}"
export GITEA_API_TOKEN="{{ env_gitea[env_accounts.gitea].token | default }}"
{% endif %}

{% if (env_accounts.github | default) != "" %}
# Github
export GH_TOKEN="{{ env_github[env_accounts.github].token | default }}"
export GITHUB_TOKEN="{{ env_github[env_accounts.github].token | default }}"
{% endif %}

{% if (env_accounts.google | default) != "" %}
# Google
export GOOGLE_APPLICATION_CREDENTIALS="{{ env_google_credentials_dir ~ '/' ~ env_google[env_accounts.google] }}"
{% endif %}

# Homebrew
{% if (env_accounts.github | default) != "" %}
export HOMEBREW_GITHUB_API_TOKEN="{{ env_github[env_accounts.github].homebrew_token | default }}"
{% endif %}
export HOMEBREW_NO_ANALYTICS={{ env_homebrew_no_analytics }}

# Java
JAVA_HOME="$(/usr/libexec/java_home)" &>/dev/null
if [[ -n $JAVA_HOME ]]
then
  export JAVA_HOME
fi

# macOS
export CLICOLOR={{ env_cli_color }}
export COPYFILE_DISABLE={{ env_copyfile_disable }}
export COPY_EXTENDED_ATTRIBUTES_DISABLE={{ env_copy_extended_attributes_disable }}

{% if (env_accounts.mailgun | default) != "" %}
# Mailgun
export MAILGUN_API_TOKEN="{{ env_mailgun[env_accounts.mailgun].token | default }}"
export MAILGUN_DOMAIN="{{ env_mailgun[env_accounts.mailgun].domain | default }}"
export MAILGUN_URL="{{ env_mailgun[env_accounts.mailgun].url | default }}"
{% endif %}

# Pnpm
export PNPM_HOME="{{ env_pnpm_home }}"

# Poetry
export POETRY_CONFIG_DIR={{ config_poetry_dir }}
{% if (env_accounts.pypi | default) != "" %}
export POETRY_PYPI_TOKEN_PYPI="{{ env_pypi[env_accounts.pypi].password | default }}"
{% endif %}

{% if (env_accounts.pypi | default) != "" %}
# PyPi
export PYPI_USERNAME="{{ env_pypi[env_accounts.pypi].user | default }}"
export PYPI_PASSWORD="{{ env_pypi[env_accounts.pypi].password | default }}"
{% endif %}

# Python
export PYTHONDONTWRITEBYTECODE={{ env_python_dontwritebytecode }}

# Tar
export TAR_OPTIONS='{{ env_tar_options }}'

# Vagrant
export VAGRANT_DISABLE_VBOXSYMLINKCREATE={{ env_vagrant_disable_vboxsymlinkcreate }}

# XZ
export XZ_DEFAULTS='{{ env_xz_opt }}'
export XZ_OPT='{{ env_xz_opt }}'

# Zip
export ZIPOPT='{{ env_zip_opt }}'
